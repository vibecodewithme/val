<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valentine ğŸ’–</title>

<style>
body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#ff9a9e,#fad0c4);
font-family:sans-serif;
overflow:hidden;
}

/* envelope */
.envelope{
width:230px;
height:150px;
background:#ff4d6d;
position:relative;
cursor:pointer;
border-radius:8px;
}
.flap{
position:absolute;
width:100%;
height:100%;
background:#ff758f;
clip-path:polygon(0 0,100% 0,50% 60%);
transform-origin:top;
transition:.6s;
}
.open .flap{transform:rotateX(180deg);}

/* card */
.card{
display:none;
background:white;
padding:20px;
border-radius:20px;
width:350px;
box-shadow:0 15px 30px rgba(0,0,0,.25);
position:absolute;
z-index:10;
}

textarea{
width:100%;
margin:6px 0;
padding:8px;
border-radius:10px;
border:1px solid #ccc;
transition:.3s;
}

textarea:focus{
outline:none;
border-color:#ff4d6d;
box-shadow:0 0 10px #ff4d6d;
animation:pulse 1s infinite;
}

@keyframes pulse{
50%{box-shadow:0 0 20px #ff4d6d;}
}

button{
padding:10px 18px;
border:none;
border-radius:20px;
cursor:pointer;
margin:6px;
}

.yes{background:#ff4d6d;color:white;}
.no{background:#ddd;position:absolute;}
.submit{background:#ff4d6d;color:white;width:100%;}

/* floating hearts */
.heart{
position:fixed;
bottom:-20px;
animation:float 6s linear infinite;
}
@keyframes float{
to{transform:translateY(-110vh);opacity:0;}
}

/* love meter */
.meter{
height:10px;
background:#eee;
border-radius:10px;
overflow:hidden;
margin:8px 0;
}
.fill{
height:100%;
width:0%;
background:#ff4d6d;
transition:1s;
}

.quote{
font-size:12px;
color:#666;
margin-top:6px;
}
</style>
</head>

<body>

<div class="envelope" onclick="openEnvelope()" id="env">
<div class="flap"></div>
</div>

<div class="card" id="card">
<h2>ğŸŒ¹ Will you be my Valentine?</h2>
<button class="yes" onclick="showForm()">Yes ğŸ’˜</button>
<button class="no" onmouseover="moveBtn()">No ğŸ™ˆ</button>
</div>

<script>

/* romantic quotes */
const quotes=[
"Love is made of tiny moments ğŸ’",
"You are my favorite notification ğŸ’–",
"Forever starts with us âœ¨",
"My heart smiles because of you ğŸ’˜",
"You are my happy place ğŸŒ¹"
];

/* envelope open */
function openEnvelope(){
env.classList.add("open");
setTimeout(()=>{
env.style.display="none";
card.style.display="block";
},600);
}

/* runaway no */
function moveBtn(){
let b=document.querySelector(".no");
if(!b) return;
b.style.transform=`translate(${Math.random()*200-100}px,${Math.random()*200-100}px)`;
}

/* floating hearts */
setInterval(()=>{
let h=document.createElement("div");
h.className="heart";
h.innerHTML="ğŸ’–";
h.style.left=Math.random()*100+"vw";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},500);

/* show form */
function showForm(){
card.innerHTML=`
<h3>ğŸ’˜ Valentine Questions</h3>

<div class="meter"><div class="fill" id="fill"></div></div>

<form oninput="updateMeter()" onsubmit="saveAnswers(event)">

ğŸŒ¹ Sweetest memory together?
<textarea required></textarea>

ğŸ’ What makes me special?
<textarea required></textarea>

âœ¨ Dream date destination?
<textarea required></textarea>

ğŸ’• Our movie love story vibe?
<textarea required></textarea>

ğŸ’Œ One promise for us?
<textarea required></textarea>

<button class="submit">Save Love ğŸ’–</button>
</form>

<div class="quote" id="quote"></div>
`;

cycleQuotes();
}

/* love meter */
function updateMeter(){
let filled=[...document.querySelectorAll("textarea")]
.filter(t=>t.value.length>0).length;

fill.style.width=(filled/5*100)+"%";
}

/* quotes */
function cycleQuotes(){
let q=document.getElementById("quote");
let i=0;
setInterval(()=>{
if(q) q.textContent=quotes[i++%quotes.length];
},2000);
}

/* confetti */
function confetti(){
for(let i=0;i<40;i++){
let c=document.createElement("div");
c.innerHTML="ğŸ’—";
c.style.position="fixed";
c.style.left=Math.random()*100+"vw";
c.style.top="-10px";
c.style.animation="float 3s linear";
document.body.appendChild(c);
setTimeout(()=>c.remove(),3000);
}
}

/* SAFE save answers */
function saveAnswers(e){
e.preventDefault();

let a=[...document.querySelectorAll("textarea")]
.map(t=>t.value);

let result=
"ğŸ’– Valentine Answers ğŸ’–\n\n"+
"Memory: "+a[0]+"\n\n"+
"Special: "+a[1]+"\n\n"+
"Dream Date: "+a[2]+"\n\n"+
"Love Story: "+a[3]+"\n\n"+
"Promise: "+a[4];

localStorage.setItem("valentineAnswers",result);

card.innerHTML=
"<h2>ğŸ’Œ Saved Safely!</h2>"+
"<textarea style='height:200px;'>"+result+"</textarea>"+
"<p>Copy & share anywhere â¤ï¸</p>";

confetti();
}

</script>

</body>
</html>
